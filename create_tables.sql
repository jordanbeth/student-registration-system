DROP TABLE IF EXISTS STUDENT;
DROP TABLE IF EXISTS COURSES;
DROP TABLE IF EXISTS REGISTRAR;
DROP TABLE IF EXISTS STUDENT_HAS_COURSES;

CREATE TABLE STUDENT
(
    USER_ID VARCHAR(55) PRIMARY KEY,
    PASSWORD VARCHAR(255),
    FIRST_NAME VARCHAR(45),
    LAST_NAME VARCHAR(45),
    SSN VARCHAR(9),
    EMAIL VARCHAR(45),
    ADDRESS VARCHAR(255)
);

CREATE TABLE COURSES
(
    COURSE_ID VARCHAR(55) PRIMARY KEY,
    COURSE_TITLE VARCHAR(255)
);

CREATE TABLE STUDENT_HAS_COURSES 
(
    USER_ID VARCHAR(55) NOT NULL,
    COURSE_ID VARCHAR(55) NOT NULL,
    FOREIGN KEY (USER_ID) REFERENCES STUDENT(USER_ID),
    FOREIGN KEY (COURSE_ID) REFERENCES COURSES(COURSE_ID)
);

CREATE TABLE REGISTRAR
(
    COURSE_ID VARCHAR(55) NOT NULL,
    NUMBER_REGISTERED INT NOT NULL,
    FOREIGN KEY (COURSE_ID) REFERENCES COURSES(COURSE_ID)
);

-- DML

-- STUDENT
INSERT INTO STUDENT VALUES ('testtest', 'password', 'Lee', 'Moonie', '111111111', 'leemoonie@gmail.com', '7 Fern Street, Victorville, TN');
INSERT INTO STUDENT VALUES ('testtest1', 'password', 'Barb', 'Barbson', '111111112', 'barbarbson@gmail.com', '8 Film Drive, Memphis, TN');
INSERT INTO STUDENT VALUES ('annann', 'password', 'Ann', 'Moonie', '111111113', 'annmoonie@gmail.com', '6 NE 9th Sreet, Knoxville, TN');

-- COURSES
INSERT INTO COURSES VALUES('605.784', 'Enterprise Computing with Java');
INSERT INTO COURSES VALUES('605.785', 'Web Services: Frameworks, Processes, Applications');
INSERT INTO COURSES VALUES('605.786', 'Enterprise System Design and Implementation');
INSERT INTO COURSES VALUES('605.787', 'Rich Internet Applications with Ajax');
INSERT INTO COURSES VALUES('605.788', 'Big Data Processing Using Hadoop');

-- STUDENT_HAS_COURSES 
INSERT INTO STUDENT_HAS_COURSES VALUES ('testtest', '605.784');
INSERT INTO STUDENT_HAS_COURSES VALUES ('testtest1', '605.784');
INSERT INTO STUDENT_HAS_COURSES VALUES ('testtest', '605.786');
INSERT INTO STUDENT_HAS_COURSES VALUES ('testtest1', '605.788');
INSERT INTO STUDENT_HAS_COURSES VALUES ('annann', '605.785');
INSERT INTO STUDENT_HAS_COURSES VALUES ('annann', '605.786');
INSERT INTO STUDENT_HAS_COURSES VALUES ('annann', '605.787');

-- REGISTRAR
INSERT INTO REGISTRAR VALUES('605.784', 2);
INSERT INTO REGISTRAR VALUES('605.785', 1);
INSERT INTO REGISTRAR VALUES('605.786', 2);
INSERT INTO REGISTRAR VALUES('605.787', 1);
INSERT INTO REGISTRAR VALUES('605.788', 1);
